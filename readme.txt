=== WooMS Extra ===
Tags: moysklad, woocommerce, sync, integration
Requires at least: 4.0
Tested up to: 4.9.4
Requires PHP: 5.6
Stable tag: 4.3
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

MoySklad (moysklad.ru) and WooCommerce - sync, integration, connection

== Description ==

Интеграция приложения МойСклад (торговля, опт, розница, склад, производство, CRM) и WooCommerce (WordPress)

Особенности:

*   Синхронизация товаров по протоколу REST API
*   Загрузка категорий
*   Загрузка картинок
*   Передача заказов на Склад
*   Простые настройки


[Инструкция по правильному запуску Интернет магазина на базе WordPress & WooCommerce](https://wpcraft.ru/2017/internet-magazin-na-wordpress-woocommerce-storefront-mojsklad/)

По вопросам доработки https://wpcraft.ru/contacts/
Плагин спроектирован таким образом, что относительно просто позволяет дорабатывать механику под задачи и автоматизацию конкретного магазина/каталога.

== Installation ==

This section describes how to install the plugin and get it working.

e.g.

1. Upload plugin to the `/wp-content/plugins/` directory
1. Activate the plugin through the 'Plugins' menu in WordPress
1. Go to Settings / MoySklad and setup
1. Got to Tools / MoySklad and run sync

== Frequently Asked Questions ==

= Какие товары синхронизируются? =

По умолчанию только с артикулами. Чтобы можно было синхронизировать товары МойСклад и сайта без удаления.
Но если включить опцию UUID, то товары можно синхронизировать без артикула. В этом случае придется сначала удалить продукты с сайта.

= Что нужно чтобы синхронизация заработала? =

Нужно правильно указать реквизиты доступа на странице настроек плагина в панели управления сайтом. На стороне МойСклад ничего делать не нужно.

= Как устроен механизм синхронизации? =

Используется протокол REST API. Без протокола CommerceML. Вся логика находится на стороне сайта и сайт сам запрашиует данные из МойСклад.
В зависимости от особенностей конфигурации сервера бот синхронизации может зависать из-за таймаутов. Для этого в плагине встроен супервайзер, который следит за ботом и пинает его в случае остановки.

= Какие минимальные требования? =

WordPress 4.5
WooCommerce 3.0 - мб будет работать на Woo 2.х но не факт.
PHP 5.6


== Screenshots ==

1. Страница настроек.
2. Страница управления

== Changelog ==

= 3.6 =
* рефакторинг
* XT: фикс ошибки скрытия товаров и остатков при отключенной опции

= 3.5 =
* Обязательно обновление WooMS XT до версии 3.5 https://wpcraft.ru/my
* Хук для исключения импорта продуктов по выбранным папкам https://github.com/wpcraft-ru/wooms/issues/36
* Добавлен логгер ошибок и событий обмена https://github.com/wpcraft-ru/wooms/issues/110
* Снижение нагрузки на БД
* Рефакторинг кода
* Опция выбора группы для импорта товаров перенесен в базовый плагин

= 3.4 =
* Перенос страниц настроек и управления под единую страницу https://github.com/wpcraft-ru/wooms/issues/100
* Мелкие правки по настройкам статусов

= 3.3 =
* Опция выбора связки Статусов между Сайтов и Складом https://github.com/wpcraft-ru/wooms/issues/99

= 3.2 =
* Передача статусов Заказа из Сайта на Склад https://github.com/wpcraft-ru/wooms/issues/93

= 3.0.1 =
* Исправлена проблема обновления хуков и статусов по Заказам

= 3.0.0 =
* Поддержка кастомных полей
* Поддержка полей Вес, длина, высота, ширина

= 1.8.8 =
* Изменено ограничение на количество товаров в рубриках при обновлении из одной рубрики
* Добавлена поддержка глобальных атрибутов https://github.com/wpcraft-ru/wooms/issues/44
* Поддержка WC 3.5.0

= 1.8.7 =
* Изменено удаление категорий на обновление категорий при синхронизации из отдельной рубрики
* Изменен метод запуска синхронизации из отдельной рубрики. Теперь запускается перед общим волкером

= 1.8.6 =
* Добавлен фильтр для распродажных цен
* Добавлена синхронизация из категорий 2 и 3 уровня

= 1.8.5 =
* Добавлен информационный метабокс к заказам
* Добавлена инструкция к настройке выбора категории
* Добавлена ссылка в комментарий при передаче заказа
* Добавлено отключение ручной синхронизации вариаций, если не закончена синхронизация простых товаров

= 1.8.4 =
* Исправлена ошибка добавления заказов при отсутствии имени клиента

= 1.8.3 =
* Исправлен ошибка при отправке значений резервов

= 1.8.2 =
* Исправлен датапикер
* Добавлена описание для настройки выключения резервов

= 1.8.1 =
* Изменен способ проверки, если отсутствует поле email при создании заказов

= 1.8.0 =
* Сделан обмен доступными остатками с учетом резервов https://github.com/uptimizt/wooms/issues/29
* Добавили хук wooms_stock_type для переключения типов остатков

= 1.7.9 =
* Переименован плагин с WooMS Extra на WooMS XT
* Исправлена ошибка синхронизации вариаций
* Исправлена подпись настройки
* Добавлена принудительная установки статуса "В наличии" для вариации
* Добавлена настройка выключения резервирования товаров на складе

= 1.7.8 =
* Добавлен функционал синхронизации простых и вариативных товаров из отдельной группы
* Добавлен функционал автоматического удаления родительской категории при синхронизации из группы
* Добавлено добавления статуса "Нет в наличии" для вараитивных товаров, если товара нет на складе или при синхронизации из группы
* Изменены приоритеты вывода настроек, чтобы не перемешивались цены с рубриками
* Исправлена работа распродажных цен, если в МС цена распродажи 0, то на сайте обновляется в пустое поле

= 1.7.7 =
* Исправлена работы типа цен с учетом цен Распродажи

= 1.7.5 =
* Добавлено цветовое разграничение сообщений
* Добавлен импорт распродажных цен для простых и вариативных товаров
* Добавлено отключение кеша при импорте вариаций

= 1.7.4 =
* Добавлена проверка на наличие основного плагина WooMS
* Добавлена проверка на актуальную версию основного плагина WooMS
* Добавлена возможность добавления префикса или постфикса к номеру заказа
* Добавлено логирование ошибок, с использованием штатного функционал WooCommerce, при отправке заказа
* Добавлена проверка на тип товара при импорте вариаций
* Добавлено отключение крона, если настройка синхронизации вариаций выключена

= 1.7.3 =
* Добавлено резервирование товаров в МС при экспорте товаров с сайта
* Добавлена проверка на наличие заказов при отправке по крону
* Исправлены ошибки

= 1.7.2 =
* Исправлена ошибка запуска по крону экспорта заказов при выключенной настройке
* Обновлен формат даты и времени в заказах
* Удален старый код при импорте вариаций

= 1.7.1 =
* Исправлена ошибка импорта вариации без использования uuid
* Исправлена ошибка запуска импорта вариаций по крону, если отключена синхронизация вариаций
* Исправлена ошибка импорта атрибутов для вариативных товаров
* Обновление метода импорта остатков

= 1.7.0 =
* Отключение файла импорта аттрибутов

= 1.6.9 =
* Обновлен метод импорта вариаций
* Исправлена ошибка при обновлении остатков

= 1.6.8 =
* Исправление настроек передачи заказов - если настройка выключена, синхронизаия невозможна
* Отлов бага с не отправкой заказа и исправление. Возникла проблема с отсутсвием емайла


= 1.6.7 =
* Добавлена передача комментария клиента в заказе
* Добавлена передача метода доставки в заказе
* Добавлена передача метода оплаты в заказе
* Замена обертки для работы с API на новую

= 1.6.6 =
* Передача вариативных товаров в заказе

= 1.6.5 =
* Дополнительная настройка для вебхуков

= 1.6.4 =
* Передается дата заказа

= 1.6.3 =
* Обновление данных контрагентов
* Изменение сообщений

= 1.6.2 =
* Изменение данных контрагентов при обновлении заказов

= 1.6.2 =
* Добавлена опция Предзаказа для 0 остатков

= 1.6.1 =
* Добавлено внесение контактных данных контрагента при экспорте заказов
* Исправлены небольшие баги

= 1.6.0 =
* Исправлена ошибка сброса опции управления запасами при 0 остатках

= 1.5.4 =
* Правка динамических инструкций в настройках передачи Заказа

= 1.5.3 =
* Обновление статуса заказов через обратный вебхук

= 1.5.2 =
* Добавлена опция управления запасами

= 1.5.1 =
* Сделана опция которая берет во внимание не все заказы, а только сегодняшние и вчерашние. Либо с даты которая указана в опции

= 1.4.2 =
* Добавлен readme.txt
* Переработан обмен атрибутов и исправлены ошибки
* Добавлена проверка Покупателей на дубли по email

= 1.0.1 =
* Первичная версия с передачей Заказов в МойСклад
